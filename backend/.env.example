# SaaS X-Ray Backend Environment Configuration

# Basic Configuration
NODE_ENV=development
PORT=3001
APP_VERSION=1.0.0

# Frontend Configuration  
FRONTEND_URL=http://localhost:3000
API_URL=http://localhost:3001

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5433/saas_xray_dev
DB_HOST=localhost
DB_PORT=5433
DB_NAME=saas_xray_dev
DB_USER=username
DB_PASSWORD=password
DB_SSL=false

# Redis Configuration (for rate limiting and caching)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Clerk Authentication (Primary Auth Provider)
CLERK_PUBLISHABLE_KEY=pk_test_your-clerk-publishable-key
CLERK_SECRET_KEY=sk_test_your-clerk-secret-key

# JWT Configuration (Legacy - Clerk is now primary)
JWT_SECRET=your-super-secret-jwt-key-here-at-least-32-characters-long
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d
JWT_ISSUER=saas-xray.com
JWT_AUDIENCE=saas-xray-api

# Encryption Configuration (AES-256-GCM for OAuth credentials)
# MASTER_ENCRYPTION_KEY must be at least 64 characters (256 bits)
# Generate with: openssl rand -base64 64 | tr -d '\n'
MASTER_ENCRYPTION_KEY=your-master-encryption-key-must-be-at-least-64-characters-long-for-aes256
ENCRYPTION_SALT=saas-xray-default-salt-2025
ENCRYPTION_ALGORITHM=aes-256-gcm

# Slack OAuth Configuration
SLACK_CLIENT_ID=your-slack-client-id
SLACK_CLIENT_SECRET=your-slack-client-secret
SLACK_SIGNING_SECRET=your-slack-signing-secret
SLACK_REDIRECT_URI=http://localhost:4201/api/auth/callback/slack

# Google OAuth Configuration
GOOGLE_CLIENT_ID=your-google-client-id.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:4201/api/auth/callback/google

# Microsoft OAuth Configuration
MICROSOFT_CLIENT_ID=your-microsoft-application-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_TENANT_ID=your-tenant-id
MICROSOFT_REDIRECT_URI=http://localhost:4201/api/auth/callback/microsoft

# HubSpot OAuth Configuration (Optional)
HUBSPOT_CLIENT_ID=your-hubspot-client-id
HUBSPOT_CLIENT_SECRET=your-hubspot-client-secret
HUBSPOT_REDIRECT_URI=http://localhost:3001/api/auth/callback/hubspot

# Salesforce OAuth Configuration (Optional)
SALESFORCE_CLIENT_ID=your-salesforce-client-id
SALESFORCE_CLIENT_SECRET=your-salesforce-client-secret
SALESFORCE_REDIRECT_URI=http://localhost:3001/api/auth/callback/salesforce

# Security Configuration
CORS_ORIGINS=http://localhost:3000,https://app.saas-xray.com
ALLOWED_HOSTS=localhost,127.0.0.1,app.saas-xray.com
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# Monitoring & Logging
LOG_LEVEL=info
LOG_FORMAT=combined
SENTRY_DSN=your-sentry-dsn-here
DATADOG_API_KEY=your-datadog-api-key

# Feature Flags
ENABLE_AUDIT_LOGGING=true
ENABLE_THREAT_DETECTION=true
ENABLE_COMPLIANCE_REPORTING=true
ENABLE_REALTIME_ALERTS=true

# Emergency Controls
EMERGENCY_SHUTDOWN=false
MAINTENANCE_MODE=false

# External Service Configuration
WEBHOOK_SECRET=your-webhook-secret-for-platforms
NOTIFICATION_SERVICE_URL=https://your-notification-service.com
ALERT_WEBHOOK_URL=https://your-alert-webhook.com

# Development Only
DEBUG=saas-xray:*
MOCK_OAUTH=false
SKIP_EMAIL_VERIFICATION=true